<ion-view>
	<ion-nav-title>{{ ::vm.category.title }}</ion-nav-title>
	
	<ion-nav-buttons side="right">
      <button class="button button-icon ion-grid" 
                ui-sref="app.portals"></button>
    </ion-nav-buttons>

	<ion-content ng-class="{ 'has-subheader': vm.hasSubheader }" on-swipe-right="vm.prev()" on-swipe-left="vm.next()">
    	<section ng-show="vm.loading" class="text-center padding">
    		<ion-spinner></ion-spinner>
    	</section>
    	<section ng-show="!vm.loading && !vm.items.length" class="padding">
    		<h3 class="text-center assertive" ng-cloak>Oops, something went wrong</h3>
    	</section>

    	<section ng-show="!vm.loading">
	    	<ion-list ng-show="vm.items.length">
	    		<div ng-repeat="(i, item) in vm.items"> 
	    			
<!-- 	    			<ion-item class="item-divider" ng-if="i % 25 === 3">
		            	<div adsrv what="top{{ ::vm.category.normalized }}" class="top"></div>
		            </ion-item>

	    			<ion-item class="item-divider" ng-if="i % 25 === 9">
		            	<div adsrv what="noop{{ ::vm.category.normalized }}" class="top"></div>
		            </ion-item>

	    			<ion-item class="item-divider" ng-if="i % 25 === 18">
		            	<div adsrv what="noop{{ ::vm.category.normalized }}" class="top"></div>
		            </ion-item>

		            <ion-item class="item-divider" ng-if="i % 25 === 24">
		            	<div adsrv what="tileone{{ ::vm.category.normalized }}" class="top"></div>
		            </ion-item> -->

		            <ion-item class="item-divider" ng-if="i % 25 === 0" style="padding-left: 0; padding-right: 0">
		            	<div adsrv what="mobile-leaderboard" class="top"></div>
		            </ion-item>

		            <ion-item class="item-divider" ng-if="i % 25 === 3" style="padding-left: 0; padding-right: 0">
		            	<div adsrv what="mobile-leaderboard-xx" width="100%" class="top"></div>
		            </ion-item>

		            <ion-item class="item-divider" ng-if="i % 25 === 9" style="padding-left: 0; padding-right: 0">
		            	<div adsrv what="tileone{{ ::vm.category.normalized }}" width="100%" class="top"></div>
		            </ion-item>

		            <ion-item class="item-divider" ng-if="i % 25 === 18" style="padding-left: 0; padding-right: 0">
		            	<div adsrv what="mobile-square" width="100%" class="top"></div>
		            </ion-item>
		            
		            <ion-item class="item-light"  ng-include="'app/news/news.item.html'">
		            </ion-item>
		        </div>
	        </ion-list>
        </section>

        <ion-infinite-scroll
        	immediate-check="false"
        	ng-if="!vm.complete"
		    on-infinite="vm.loadItems()"
		    distance="5%">
		</ion-infinite-scroll>
	</ion-content>
</ion-view>